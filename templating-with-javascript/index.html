<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=1024, user-scalable=no">

    <title>Client-side Templating with JavaScript</title>

    <!-- Required stylesheet -->
    <link rel="stylesheet" href="../core/deck.core.css">

    <!-- Extension CSS files go here. Remove or add as needed. -->
    <!--<link rel="stylesheet" href="../extensions/goto/deck.goto.css">-->
    <link rel="stylesheet" href="../extensions/menu/deck.menu.css">
    <link rel="stylesheet" href="../extensions/navigation/deck.navigation.css">
    <link rel="stylesheet" href="../extensions/status/deck.status.css">
    <link rel="stylesheet" href="../extensions/hash/deck.hash.css">
    <!--<link rel="stylesheet" href="../extensions/scale/deck.scale.css">-->

    <!-- Style theme. More available in /themes/style/ or create your own. -->
    <link rel="stylesheet" href="../themes/style/swiss.css">

    <!-- Transition theme. More available in /themes/transition/ or create your own. -->
    <link rel="stylesheet" href="../themes/transition/vertical-slide.css">


    <link rel="stylesheet" href="../extensions/codemirror/deck.codemirror.css">
    <link rel="stylesheet" href="../extensions/codemirror/themes/default.css">
    <link rel="stylesheet" href="custom.css">

    <!-- Required Modernizr file -->
    <script src="../modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<section class="slide">
    <h2>Client-side Templating with JavaScript</h2>
    <p>Will Klein</p>
    <p>Travelers JavaScript Users Group</p>
    <p>March 5, 2013</p>
</section>

<section class="slide">
    <h2>About Me</h2>
    <p>http://willkle.in</p>
    <p>github.com/willklein</p>
    <p>engineer @ Travelers</p>

    <p>easily distracted by open source</p>
</section>

<section class="slide">
    <h2>Agenda</h2>
    <ul>
        <li>Why Template</li>
        <li>Grow a Mustache</li>
        <li>More Templating</li>
        <li>Performance</li>
    </ul>
</section>

<section class="slide">
    <h2>In the beginning</h2>
    <p class="slide">We wrote spaghetti code</p>
    <div class="slide">
        <p>It sucked</p>
        <img src="spaghetti-small.jpg" />
    </div>
</section>

<section class="slide">
    <h2>Spaghetti Code</h2>

    <p><a href="spaghetti.html" target="_blank">Example (viewer discretion is advised)</a></p>

    <p class="slide">We've gotten better, right?</p>

</section>

<section class="slide">
    <h2>Better, Faster, Stronger</h2>
    <div><textarea id="code" name="code" class="code" mode="javascript" style="display: none;">
var output = document.getElementById("output");
var url = "somewhere.html";

output.innerHTML = "<a href='" + url + "'>Some link</a>";</textarea></div>
    <br>
    <div class="slide output">

        <p class="slide">&lt;a href="somewhere.html"&gt;Some link&lt;/a&gt;</p>
    </div>
</section>

<section class="slide">
    <h2>Sorry...</h2>
    <p><img src="picard-face-palm-1.gif"/></p>
</section>

<section class="slide">
    <h2>Don't put:</h2>
    <ul>
        <li>HTML in my JavaScript</li>
        <li>JavaScript in my HTML</li>
        <li>CSS in my HTML</li>
    </ul>
    <p>...you get the idea.</p>
</section>

<section class="slide">
    <h2>Isn't Faster Better?</h2>

    <p><a href="http://jsperf.com/append-html-element-with-attributes/6">jsPerf</a></p>

    <p class="slide">Sometimes, but at what cost?</p>
    <p class="slide">The developer experience is valuable</p>
</section>

<section class="slide">
    <h2>Once upon a time...</h2>

    <p><img src="write-a-code.jpg"/></p>
</section>

<section class="slide">
    <h2>Templating is</h2>

    <p class="slide">taking HTML (or something like it),</p>
    <p class="slide">dynamic data (typically JSON),</p>
    <p class="slide">and binding the data into the HTML to populate your content.</p>
</section>

<section class="slide">
    <h2>A Simple Example</h2>

    <div><textarea id="code" name="code" class="code" mode="javascript" style="display: none;">
    var data = {
        url: "somewhere.html",
        title: "Some link"
    };

    // Inline JavaScript for brevity
    var template = '<a href="{{ url }}">{{ title }}</a>';

    var html = Templater.render(template, data);</textarea></div>

    <br>

    <p class="slide">&lt;a href="somewhere.html"&gt;Some link&lt;/a&gt;</p>
</section>

<section class="slide">
    <h2>Grow a {{mustache}}</h2>

    <p>Released in 2009</p>
    <p>Written in Ruby by Chris Wanstrath</p>
    <p>Inspired by ctemplate (C++) and et (Erlang)</p>
</section>

<section class="slide">
    <h2>An Amazing {{mustache}}</h2>

    <p>Ported everywhere</p>
    <p>Has a <a href="https://github.com/mustache/spec" target="_blank">spec</a></p>
    <p>Handlebars.js is a superset of <a href="https://github.com/janl/mustache.js/" target="_blank">Mustache.js</a></p>
    <p><a href="http://twitter.github.com/hogan.js/" target="_blank">Hogan</a> is a Mustache compiler</p>
</section>

<section class="slide">
    <h2>Jade - Node Template Engine</h2>

    <p>Written for Node.js by TJ Holowaychuk</p>
    <p>Inspired by Haml (born in Ruby)</p>
    <p>Can be deployed to the browser</p>
    <p><a href="http://jade-lang.com/" target="_blank">jade-lang.com</a></p>
    <p><a href="http://naltatis.github.com/jade-syntax-docs/" target="_blank">Interactive documentation</a></p>
</section>

<section class="slide">
    <h2>Transparency</h2>

    <p>Written in CoffeeScript by Jarno Keskikangas</p>
    <p>*Pure* HTML templates</p>
    <p>DOM based</p>
    <p>Semantic data binding</p>
    <p><a href=http://leonidas.github.com/transparency/" target="_blank">Transparency</a></p>
</section>

<section class="slide">
  <h2>Stuff to Consider</h2>

  <ul>
    <li class="slide">Partials</li>
    <li class="slide">Helpers and directives</li>
    <li class="slide">DOM vs string based</li>
    <li class="slide">Logic-less vs embedded JavaScript</li>
    <li class="slide">Portability (server-side, cross-language)</li>
  </ul>
</section>

<section class="slide">
    <h2>Deliver me my templates!</h2>

    <ul>
        <li class="slide">&lt;script type="text/html"&gt; tags</li>
        <li class="slide">&lt;template&gt; w/ HTML5</li>
        <li class="slide">Compile to JavaScript?!</li>
    </ul>
</section>

<section class="slide">
  <h2>Pre-compilation</h2>

  <ul>
    <li class="slide">String templates compile to optimized JavaScript functions</li>
    <li class="slide">Example: <a href="http://akdubya.github.com/dustjs/">Dust.js</a></li>
    <li class="slide">Node.js</li>
    <li class="slide">Build process</li>
  </ul>
</section>

<section class="slide">
    <h2>Performance: Who cares?</h2>

    <div class="slide">
        <p>We do actually care about performance</p>
        <p>Some browsers are (hella) slow</p>
    </div>
    <p class="slide">Templating can *improve* responsiveness (perceived performance)</p>
</section>

<section class="slide">
    <h2>Browser vs Server</h2>

    <p>Keep some things server-side</p>
    <p>Initial page-load HTML can be done server-side</p>
    <p>Hybrid approach</p>
    <p>Share templates when possible</p>
</section>

<section class="slide">
  <h2>Templates Everywhere!</h2>
  <ul>
    <li>Dust.js</li>
    <li>Underscore</li>
    <li>EJS</li>
    <li>doT.js</li>
    <li>JsRender</li>
    <li>PURE</li>
    <li>Plates</li>
    <li>...</li>
  </ul>
</section>

<section class="slide">
    <h2>So Fresh, So Clean</h2>

    <p>Templating can provide:</p>
    <ul>
        <li>cleaner code</li>
        <li>separation of concerns</li>
        <li>sanity</li>
    </ul>
</section>

<section class="slide">
    <h2>Where can I learn more?</h2>
    <ul>
        <li><a href="http://garann.github.com/template-chooser/">Template Engine Chooser!</a></li>
        <li><a href="http://www.garann.com/dev/2012/choosing-template-engines/">Choosing template engines</a></li>
        <li><a href="http://javascriptjabber.com/036-jsj-dom-rendering-and-manipulating/">JSJ DOM Rendering and Manipulating</a></li>
        <li><a href="http://blog.nodejitsu.com/micro-templates-are-dead">Micro Templates Are Dead</a></li>
        <li><a href="https://kippt.com/willklein/templating">kippt.com/willklein/templating</a></li>
    </ul>
    <p class="slide">Questions?</p>
</section>

<section class="slide">
    <h2>Stay Tuned</h2>
    <ul>
        <li>http://willkle.in</li>
        <li><a href="http://bostoncodecamp.com">bostoncodecamp.com</a></li>
        <li>wcklein on MOC</li>
    </ul>
    <h3 class="slide">Thanks!</h3>
</section>

<!-- End slides. -->


<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.navigation snippet -->
<!--<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>-->
<!--<a href="#" class="deck-next-link" title="Next">&#8594;</a>-->

<!-- deck.status snippet -->
<p class="deck-status">
    <span class="deck-status-current"></span>
    /
    <span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<!--<form action="." method="get" class="goto-form">-->
<!--<label for="goto-slide">Go to slide:</label>-->
<!--<input type="text" name="slidenum" id="goto-slide" list="goto-datalist">-->
<!--<datalist id="goto-datalist"></datalist>-->
<!--<input type="submit" value="Go">-->
<!--</form>-->

<!-- deck.hash snippet -->
<a href="../" title="Permalink to this slide" class="deck-permalink">#</a>

<!-- End extension snippets. -->


<!-- Required JS files. -->
<script src="../jquery-1.7.2.min.js"></script>
<script src="../core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<!--<script src="../core/deck.core.js"></script>-->
<script src="../extensions/hash/deck.hash.js"></script>
<script src="../extensions/menu/deck.menu.js"></script>
<!--<script src="../extensions/goto/deck.goto.js"></script>-->
<script src="../extensions/status/deck.status.js"></script>
<!--<script src="../extensions/navigation/deck.navigation.js"></script>-->
<!--<script src="../extensions/scale/deck.scale.js"></script>-->

<!-- Base codemiror code -->
<script src="../extensions/codemirror/codemirror.js"></script>

<!-- Syntax highlighting Modes -->

<!-- javascript -->
<script src="../extensions/codemirror/mode/javascript/javascript.js"></script>

<!-- html mode (note html mode requires xml, css and javascript) -->
<script src="../extensions/codemirror/mode/xml/xml.js"></script>
<script src="../extensions/codemirror/mode/css/css.js"></script>
<script src="../extensions/codemirror/mode/htmlmixed/htmlmixed.js"></script>

<!-- Plugin code -->
<script src="../extensions/codemirror/deck.codemirror.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
    $(function() {
        $.deck('.slide');
    });
</script>
</body>
</html>
